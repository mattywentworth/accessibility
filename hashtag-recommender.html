<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hashtag Recommender - Digital Accessibility Feature Upgrades</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">Accessibility Upgrades</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="ideas.html" class="nav-link">Ideas</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <section class="page-header">
            <h1>Hashtag Recommender</h1>
            <p class="page-subtitle">Make your hashtags more accessible for screen reader users</p>
        </section>

        <section class="hashtag-recommender-container">
            <p style="margin-bottom: 2rem; color: var(--text-light);">
                Type a sample social media post below. In order to demo the full scope of this feature, include a hashtag that includes multiple uncapitalized words. This hashtag could be something like "#socialmedia" or "#natureisbeautiful". Feel free to click the "Generate post for me" button to more quickly see the output of the demo.
            </p>
            <p style="margin-bottom: 1rem; color: var(--text-light);">
                To get the full experience, click the "Generate post for me" button, observe how the text is structured, and listen to how the audio below reads that text. If you relied on a screen reader to access the Internet, would you want people to format their posts differently?
            </p>
            <audio controls style="margin-bottom: 2rem; width: 100%;">
                <source src="Assets/Accessibility - Hashtags.m4a" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div id="api-key-notice" style="display: none; padding: 1rem; background-color: #fef3c7; border: 1px solid #fbbf24; border-radius: 6px; margin-bottom: 1rem; color: #92400e;">
                <strong>⚠️ Backend Not Connected:</strong> The backend API is not configured. Please set <code style="background: #fff; padding: 0.25rem 0.5rem; border-radius: 3px;">window.API_BASE_URL</code> to your deployed backend URL, or create a <code>config.js</code> file. See <code>README.md</code> for deployment instructions.
            </div>
            <div id="no-hashtag-warning" class="no-hashtag-warning" style="display: none;">
                <strong>⚠️ No Hashtag Found:</strong> Please include a hashtag in your text in order to demo this feature.
            </div>

            <div class="hashtag-recommender-wrapper">
                <div class="post-input-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <label for="post-input" class="post-input-label">Your Post</label>
                        <button id="generate-post-btn" class="btn btn-secondary" style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                            Generate a post for me
                        </button>
                    </div>
                    <textarea 
                        id="post-input" 
                        class="post-input" 
                        placeholder="What's on your mind? Try typing: #socialmedia #webaccessibility #techforgood"
                    ></textarea>

                    <!-- Submit button positioned directly below input -->
                    <div class="submit-button-container">
                        <button id="submit-btn" class="btn btn-primary btn-submit">Submit Post</button>
                    </div>
                    <div id="hashtag-analysis-status" class="sr-only" role="status" aria-live="polite"></div>
                    
                    <!-- Inline warning message (shown when inaccessible hashtags detected) -->
                    <div id="inline-warning" class="inline-warning" style="display: none;">
                        <strong>⚠️ Inaccessible Hashtags Detected</strong>
                        <p>
                            Your post contains hashtags that are difficult for screen reader users to understand. 
                            When hashtags are written in all lowercase with multiple words (like <span id="example-inaccessible">#socialmedia</span>), 
                            screen readers may struggle to pronounce them correctly or make them understandable.
                        </p>
                        <p>
                            We recommend using capitalized hashtags (like <span id="example-accessible">#SocialMedia</span>) to improve accessibility 
                            for people who rely on assistive technologies. Please review and accept our suggestions, or incorporate accessible alternatives if our recommendations don't properly communicate the intent of your post.
                        </p>
                        <p>
                            We use AI to analyze the content of posts, and the analysis is not perfect. If the analysis provided is incorrect, or if you refuse to make your post more accessible and inclusive, check the checkbox below and proceed with submitting your post.
                        </p>
                        
                        <!-- Checkbox container (shown below warning) -->
                        <div class="checkbox-container-inline" id="checkbox-container-inline">
                            <input type="checkbox" id="acknowledge-checkbox-inline">
                            <label for="acknowledge-checkbox-inline">
                                I understand that my post contains inaccessible text and acknowledge that this 
                                may make it difficult for screen reader users to understand my hashtags.
                            </label>
                        </div>
                    </div>
                </div>

                <div class="suggestions-panel" id="suggestions-panel">
                    <h3>Hashtag Recommendations</h3>
                    <p id="suggestions-instruction" class="suggestions-instruction" style="display: none;">
                        It looks like your post includes content that isn't accessible for people with disabilities. Click each recommendation to incorporate it into the text of your post. Or click the "Accept All Suggestions" button to incorporate all recommendations into the text of your post.
                    </p>
                    <div class="suggestions-list" id="suggestions-list">
                        <div class="no-suggestions">Click "Submit Post" to analyze hashtags and see suggestions</div>
                    </div>
                    <button id="accept-all-btn" class="btn btn-primary btn-accept-all" style="display: none;">
                        Accept All Recommendations
                    </button>
                </div>
            </div>

            <!-- Success message (shown after submission) -->
            <div id="success-message" class="success-message" style="display: none;">
                <div class="success-content">
                    <h2 id="success-title">Thank you for contributing to a more inclusive Internet.</h2>
                    <button id="reset-demo-btn" class="btn btn-primary">Demo the Process Again</button>
                </div>
            </div>
        </section>
    </main>


    <footer class="footer">
        <p>&copy; 2024 Digital Accessibility Feature Upgrades. Dedicated to making the web more inclusive.</p>
    </footer>

    <!-- Optional: Include config.js if you've set up your API key there -->
    <!-- <script src="config.js"></script> -->
    <script>
        // Set your deployed backend URL
        window.API_BASE_URL = 'https://accessibility-djjj.onrender.com';
      </script>
    <script src="hashtag-recommender.js"></script>
</body>
</html>
